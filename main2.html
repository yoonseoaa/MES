<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MAIN PAGE</title>
    <link rel="stylesheet" href="main.css" type="text/css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="main.css" media="screen and(min-width: 215px) and (max-width: 1024px)" rel="stylesheet">
    <style type="text/css" media="screen and(min-width: 215px) and (max-width: 1024px)">
        @import url(main.css) screen and(min-width: 215px) and (max-width: 1024px);
    </style>
    <script  src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script  src="http://d3js.org/d3.v3.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
    <script src="https://kit.fontawesome.com/036f0eb301.js" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

    <!-- chart -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>

  </head>

<style>

canvas{
  margin-top: 5%;
}

.chart{
  margin: 0 auto;
  display: inline-block;
}
      
</style>

<body>
    <header>
        <section class="hbody">
          <article class="nav" style="margin-left: 50%;">
          <div class="title"><img src="./img/찐로고.png" style="align-items: center; width: 100px;"></a></div>
          <ul id="menu">
            <button>로그아웃</button>

          </ul>
          </article>
        </section>
      </header>
    <nav class="sidebar" id="scrollBar">
        <ul>
            <li class="active">
                <a href="#" class="one-btn"><i class="fa-regular fa-circle-user"></i>기준정보
                <div class="fa-solid fa-angle-down first"></div>
                </a>
                <ul class="one-show">
                    <li><a href="#">사용자관리</a></li>
                    <li><a href="#">사용 권한 관리</a></li>
                    <li><a href="#">제품관리</a></li>
                    <li><a href="#">품목정보 관리</a></li>
                    <li><a href="#">공정 관리</a></li>
                    <li><a href="#">거래처 관리</a></li>
                    <li><a href="#">BOM 관리</a></li>
                </ul>
            </li>
            <li class="active">
                <a href="#" class="two-btn"><i class="fa-solid fa-file-pen"></i>생산 관리
                <div class="fa-solid fa-angle-down second"></div>
                </a>
                <ul class="two-show">
                    <li><a href="#">생산계획</a></li>
                    <li><a href="#">작업지시</a></li>
                    <li><a href="#">작업지시조회</a></li>
                    <li><a href="#">생산일보</a></li>
                    <li><a href="#">생산실적조회</a></li>
                </ul>
            </li>
            <li class="active">
                <a href="#" class="three-btn"><i class="fa-solid fa-cart-arrow-down"></i>자재 관리
                <div class="fa-solid fa-angle-down third"></div>
                </a>
                <ul class="three-show">
                    <li><a href="#">자재 발주</a></li>
                    <li><a href="#">자재 발주 조회</a></li>
                    <li><a href="#">자재 입고 현황</a></li>
                    <li><a href="#">자재 재고 현황</a></li>
                </ul>
            </li>
            <li class="active">
                <a href="#" class="four-btn"><i class="fa-solid fa-truck"></i>물류 관리
                <div class="fa-solid fa-angle-down forth"></div>
                </a>
                <ul class="four-show">
                    <li><a href="#">출고 지시</a></li>
                    <li><a href="#">출고 조회</a></li>
                </ul>
            </li>
            <li class="active">
                <a href="#" class="five-btn"><i class="fa-solid fa-screwdriver-wrench"></i>품질 관리
                <div class="fa-solid fa-angle-down fifth"></div>
                </a>
                <ul class="five-show">
                    <li><a href="#">불량 수량 입력</a></li>
                    <li><a href="#">품질 검사 내역 조회</a></li>
                    <li><a href="#">공정 불량 현황</a></li>
                    <li><a href="#">불량률 조회</a></li>
                </ul>
            </li>
            <li class="active">
              <a href="#" class="six-btn"><i class="fa-solid fa-basket-shopping"></i>주문 관리
              <div class="fa-solid fa-angle-down sixth"></div>
              </a>
              <ul class="six-show">
                  <li><a href="#">주문 내역 조회</a></li>
                  <li><a href="#">명세서 발행</a></li>
                  <li><a href="#">오더 관리</a></li>
              </ul>
          </li>
            <li class="active">
                <a href="#" class="seve-btn"><i class="fa-solid fa-chart-line"></i>X-R 관리도
                </a>
            </li>
        </ul>
    </nav>

    <div class="wrapper">
      <div class="produc">
        <div class="graph"><a style="font-size: 25px; color: #166cea;">생산량&ensp;</a>
          <a class="clear">Total : </a><hr style="color: gray; margin-top: 10px;">
            <div class="chart">
              <canvas id="bar-chart"></canvas>
            </div>
      </div>
      </div>
        <div class="produc">
          <div class="graph"><a style="font-size: 25px; color: #166cea;">계획대비 생산 효율&ensp;</a>
            <a class="clear">Total : </a><hr style="color: gray; margin-top: 10px;">

             <span class="graph_re" data-val="50">50%</span>
             <span class="graph_re" data-val="20">20%</span>
             <span class="graph_re" data-val="40">40%</span>
             <span class="graph_re" data-val="75">75%</span>
             <div class="line"></div>
             <span class="graph_re" data-val="60">60%</span>
             <span class="graph_re" data-val="80">80%</span>
             <span class="graph_re" data-val="50">50%</span>
             <span class="graph_re" data-val="100">100%</span>
           </div>
        </div>
        <div class="produc">
          <div class="graph"><a style="font-size: 25px; color: #166cea;">전년대비 납기율&ensp;</a>
            <a class="clear">Total : </a><hr style="color: gray; margin-top: 10px;">

             <span class="graph" data-val="30">30%</span>
             <span class="graph" data-val="60">60%</span>
             <span class="graph" data-val="80">80%</span>
             <span class="graph" data-val="90">90%</span>
           </div>
        </div>

      <div class="produc">
        <div class="sec_cal">
          <div class="cal_nav">
            <a href="javascript:;" class="nav-btn go-prev">prev</a>
            <div class="year-month">월 들어가기</div>
            <a href="javascript:;" class="nav-btn go-next">next</a>
          </div>
          <div class="cal_wrap">
            <div class="days">
              <div class="day">MON</div>
              <div class="day">TUE</div>
              <div class="day">WED</div>
              <div class="day">THU</div>
              <div class="day">FRI</div>
              <div class="day">SAT</div>
              <div class="day">SUN</div>
            </div>
            <div class="dates"></div>
          </div>
        </div>
      </div>
  </div>
  
    <script> /*하위 사이드바 제이쿼리*/
        $('.one-btn').click(function(){
          $('nav ul .one-show').toggleClass("show");
          $('nav ul .first').toggleClass("rotate");
        });
        $('.two-btn').click(function(){
          $('nav ul .two-show').toggleClass("show2");
          $('nav ul .second').toggleClass("rotate");
        });
        $('.three-btn').click(function(){
          $('nav ul .three-show').toggleClass("show3");
          $('nav ul .third').toggleClass("rotate");
        });
        $('.four-btn').click(function(){
          $('nav ul .four-show').toggleClass("show4");
          $('nav ul .forth').toggleClass("rotate");
        });
        $('.five-btn').click(function(){
          $('nav ul .five-show').toggleClass("show5");
          $('nav ul .fifth').toggleClass("rotate");
        });
        $('.six-btn').click(function(){
          $('nav ul .six-show').toggleClass("show6");
          $('nav ul .sixth').toggleClass("rotate");
        });
        $('nav ul li').click(function(){
           $(this).addClass("active").siblings().removeClass("active");
        });
    </script>
    <script>
      d3.selectAll("span")
        .datum(function(){return this.dataset})
        .style("height","0%")
        .style("right",(d,i)=>(i*80)+"px")
        .transition().duration(1500)
        .style("height",d=>d.val+"%");
    </script>
    <script>
    
          $(document).ready(()=>{
          calendarInit()
        });
        function calendarInit() {
      
          $('.year-month').text("몇월?")
          
            // 날짜 정보 가져오기
            var date = new Date(); // 현재 날짜(로컬 기준) 가져오기
            var utc = date.getTime() + (date.getTimezoneOffset() * 60 * 1000); // uct 표준시 도출
            var kstGap = 9 * 60 * 60 * 1000; // 한국 kst 기준시간 더하기
            var today = new Date(utc + kstGap); // 한국 시간으로 date 객체 만들기(오늘)
          
            var thisMonth = new Date(today.getFullYear(), today.getMonth(), today.getDate());
            // 달력에서 표기하는 날짜 객체
          
            
            var currentYear = thisMonth.getFullYear(); // 달력에서 표기하는 연
            var currentMonth = thisMonth.getMonth(); // 달력에서 표기하는 월
            var currentDate = thisMonth.getDate(); // 달력에서 표기하는 일
      
            // kst 기준 현재시간
            // console.log(thisMonth);
      
            // 캘린더 렌더링
            renderCalender(thisMonth);
      
            function renderCalender(thisMonth) {
      
                // 렌더링을 위한 데이터 정리
                currentYear = thisMonth.getFullYear();
                currentMonth = thisMonth.getMonth();
                currentDate = thisMonth.getDate();
      
                // 이전 달의 마지막 날 날짜와 요일 구하기
                var startDay = new Date(currentYear, currentMonth, 0);
                var prevDate = startDay.getDate();
                var prevDay = startDay.getDay();
      
                // 이번 달의 마지막날 날짜와 요일 구하기
                var endDay = new Date(currentYear, currentMonth + 1, 0);
                var nextDate = endDay.getDate();
                var nextDay = endDay.getDay();
      
                // console.log(prevDate, prevDay, nextDate, nextDay);
      
                // 현재 월 표기
                $('.year-month').text(currentYear + '.' + (currentMonth + 1));
      
                // 렌더링 html 요소 생성
                calendar = document.querySelector('.dates')
                calendar.innerHTML = '';
                
                // 지난달
                for (var i = prevDate - prevDay + 1; i <= prevDate; i++) {
                    calendar.innerHTML = calendar.innerHTML + '<div class="day prev disable">' + i + '</div>'
                }
                // 이번달
                for (var i = 1; i <= nextDate; i++) {
                    calendar.innerHTML = calendar.innerHTML + '<div class="day current" id="' +(currentYear + '.' + (currentMonth + 1)+'.'+i) + '">' + i + '</div>'
                }
                // 다음달
                for (var i = 1; i <= (7 - nextDay == 7 ? 0 : 7 - nextDay); i++) {
                    calendar.innerHTML = calendar.innerHTML + '<div class="day next disable">' + i + '</div>'
                }
      
                // 오늘 날짜 표기
                if (today.getMonth() == currentMonth) {
                    todayDate = today.getDate();
                    var currentMonthDate = document.querySelectorAll('.dates .current');
                    currentMonthDate[todayDate -1].classList.add('today');
                }
            }
      
            // 이전달로 이동
            $('.go-prev').on('click', function() {
                thisMonth = new Date(currentYear, currentMonth - 1, 1);
                renderCalender(thisMonth);
            });
      
            // 다음달로 이동
            $('.go-next').on('click', function() {
                thisMonth = new Date(currentYear, currentMonth + 1, 1);
                renderCalender(thisMonth); 
            });
        }
    </script>

    <script>
      new Chart(document.getElementById("bar-chart"), {
    type: 'bar',
    data: {
      labels: ["4월", "5월", "6월", "7월"],
      datasets: [
        {
          label: "Population (millions)",
          backgroundColor: "#166cea",
          data: [2478,5267,734,784,433]
        }
      ]
    },
    options: {
      plugins: {
      datalabels: {
        color: 'white',
        display: function(context) {
          return context.dataset.data[context.dataIndex] > 15;
        },
        font: {
          weight: 'bold'
        },
        formatter: Math.round
      }
    },
      legend: { display: false },
      scales: {
        yAxes: [{
              ticks: {
                  display: false
              },
              gridLines: {
                lineWidth: 0 //y축 격자선 없애기,
            },
            gridLines: {
        display: false,
        color: "black"
      },
        }],
        xAxes: [{
      gridLines: {
        display: false,
        color: "black"
      },
     
    }]
    },
    },
  


});
    </script>
</body>
</html>